services:
  api:
    build:
      context: ../game
      dockerfile: Dockerfile
    container_name: game-api
    ports:
      - "3333:8080"
    volumes:
      # host folder (relative to this compose file) -> container folder
      - ./data/saves:/saves
    environment:
      - PORT=8080
    restart: unless-stopped
  nginx:
    image: nginx:alpine
    ports:
      - "3321:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/conf.d/default.conf:ro
    restart: unless-stopped
